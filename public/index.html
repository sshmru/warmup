<!DOCTYPE html>
<html lang="en" ng-app="myApp">

<head>
  <base href="/">
  <meta charset="UTF-8">
  <title></title>
  <link rel="stylesheet" href="/styles/style.css">
  <link rel="stylesheet" href="/components/bootstrap/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootswatch/3.3.1/sandstone/bootstrap.min.css">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootswatch/3.3.1/darkly/bootstrap.min.css">
  <script src="/components/angular/angular.min.js"></script>
  <script src="/components/angular-route/angular-route.min.js"></script>
  <script src="/socket.io/socket.io.js"></script>
  <script>
  </script>

</head>

<body class="darkly">
  <div class="container-fluid body-wrap">
    <div class="row">
      <header class="page-header">
        <nav class="nav-static-top nav">
          <div class="container" ng-controller="RoomsCtrl">

            <ul class="list-inline">
              <li ng-repeat="chunk in roomChunks">
                <ul class="list-unstyled" ng-repeat="room in chunk">
                  <li><a ng-href="/r/{{room.name}}">{{room.name}}</a></li>
                </ul>
              </li>
            </ul>

          </div>
        </nav>
      </header>

      <div class="col-sm-9">
        <div ng-controller="newPostCtrl as newPost" class="row">
          <form class="" 
            ng-submit="submitPost()" 
            ng-mouseenter="hovered = true" 
            ng-mouseleave="hovered = false">
            <div class="form-group"><textarea type="text" 
                ng-model="post.content"  
                ng-focus="expand()" 
                ng-blur="hideUnfocusedEmpty()"  
                rows="{{expanded ? 5 : 1}}" 
                class="{{expanded ? 'form-control' : 'form-control'}}" 
                placeholder="WRITE NEW POST "></textarea></div>
            <div ng-show="expanded" class="">
              <div class="form-group">
                <input type="text" ng-blur="hideUnfocusedEmpty()" ng-model="post.title" placeholder="title" class="form-control" ng-focus="expand()" />
              </div>
              <div class="form-group">
                <input type="text" ng-blur="hideUnfocusedEmpty()" ng-model="post.tags" placeholder="tags" class="form-control" ng-focus="expand()" />
              </div>
              <input type="submit" value="submit" class="btn btn-primary">
            </div>
          </form>
        </div>

        <div ng-view></div>

      </div>


      <div class="container col-sm-3">
        <div ng-controller="UserCtrl" class="">
          <div ng-show="user.data.logged">
            <p>Logged as:<a ng-href="/u/{{user.data.username}}"> {{user.data.username}}</a>
            </p>
            <a ng-href="" ng-click="logout()" class=""> Logout </a>
          </div>
          <div ng-show="!user.data.logged" class="form-group">
            <form ng-submit="login(loginData)">
              <div class="form-group">
                <input type="text" ng-model="loginData.username" placeholder="username" class="form-control" />
              </div>
              <div class="form-group">
                <input type="password" ng-model="loginData.password" placeholder="password" class="form-control" />
              </div>
              <input type="submit" value="login" class="btn btn-primary" />
            </form>
          </div>
        </div>

        <hr/>

        <nav>
          <ul class="list-unstyled">
            <li>Sit reprehenderit labore cum rem eius porro fuga.</li>
            <li>Elit nemo praesentium repellendus magni velit excepturi porro.</li>
            <li>Amet ut cupiditate nesciunt repellendus mollitia? Animi illo.</li>
            <li>Elit ad quasi ipsam explicabo itaque pariatur distinctio.</li>
            <li>Dolor illum minus a perferendis fuga? Aliquam corrupti.</li>

          </ul>
        </nav>

      </div>
    </div>








  </div>
  <script src="app.js"></script>
  <script src="router.js"></script>
  <script src="js/User.js"></script>
  <script src="js/Room.js"></script>
  <script src="js/Rooms.js"></script>
  <script src="js/Posts.js"></script>
  <script src="js/Post.js"></script>
  <script src="js/NewPost.js"></script>
  <script src="js/Profile.js"></script>
</body>
